@using PagedList;
@using PagedList.Mvc;
@model PagedList<UET_BTL_VERSION_1.Models.Student>
@{
    ViewBag.Title = "Index";
    Layout = "~/Views/Shared/_Layout.cshtml";
}
@if (ViewBag.ThongBao != null)
{
    <h2>@ViewBag.ThongBao</h2>
}
else
{
    <h1>@ViewBag.messageSearch</h1>
    <h2>Danh sách các sinh viên</h2>
    <h2>Tổng số sinh viên : @ViewBag.sum</h2>
    <div class="search">
        @using (Html.BeginForm("Index", "Students", FormMethod.Post))
        {
            @Html.TextBox("txtTimKiem", "", htmlAttributes: new { @class = "TextBoxTimKiem", required = "required", @placeholder = "Tìm kiếm sinh viên..." })
            <button type="submit" class="btn btn-default btn-lg" value="">
                Search
            </button>
        }
    </div>
    <p>
        @Html.ActionLink("THÊM MỘT SINH VIÊN MỚI", "Create")
    </p>
    <table class="table table-striped table-bordered table-hover">
        <tr>
            <th>
                STT
            </th>
            <th>
                Họ tên
            </th>

            <th>
                Khóa học
            </th>

            <th>
                Địa chỉ email
            </th>
            <th>
                Tên đăng nhập
            </th>
            <th>
                Mật khẩu
            </th>
            <th></th>
        </tr>
        @{ int i = 0; }
        @foreach (var item in Model)
        {
            i = i + 1;
            <tr>
                <td>
                    @i
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.Name)
                </td>

                <td>
                    @Html.DisplayFor(modelItem => item.Course)
                </td>

                <td>
                    @Html.DisplayFor(modelItem => item.Email)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.UserName)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.PassWord)
                </td>
                <td>
                    @Html.ActionLink("Edit", "Edit", new { id = item.StudentID }) |
                    @Html.ActionLink("Delete", "Delete", new { id = item.StudentID })
                </td>
            </tr>
        }

    </table>

    <form action="/Students/ImportStudent" method="post" enctype="multipart/form-data">
        Import danh sách sinh viên từ excel:<br>
        <input type="file" name="fileUpload">
        <br>

        <input type="submit" value="Import">
    </form>


    if (Model.PageCount > 1)
    {
        <div class="menu-trang">
            @Html.PagedListPager(Model, page => Url.Action("Index", new { page = page }))
        </div>
    }
}


