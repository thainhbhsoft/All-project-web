@using PagedList;
@using PagedList.Mvc;
@model PagedList<UET_BTL_VERSION_1.Models.Teacher>
@{
    /**/

    ViewBag.Title = "Index";
    Layout = "~/Views/Shared/_Layout.cshtml";
}
@if (ViewBag.ThongBao != null)
{
    <h2>@ViewBag.ThongBao</h2>
}
else
{
    <h1>@ViewBag.messageSearch</h1>
    <h2>Danh sách các giảng viên</h2>
    <h2>Tổng số giảng viên : @ViewBag.sum</h2>
    <div class="search">
        @using (Html.BeginForm("Index", "Teachers", FormMethod.Post))
        {
            @Html.TextBox("txtTimKiem", "", htmlAttributes: new { @class = "TextBoxTimKiem", required="required", @placeholder = "Tìm kiếm giảng viên..." })
            <button type="submit" class="btn btn-default btn-lg" value="">
                Search
            </button>
        }
    </div>
    <p>
        @Html.ActionLink("Thêm mới", "Create")
    </p>
    <table class="table table-striped table-bordered table-hover">
        <tr>
            <th>
                STT
            </th>
            <th>
                Họ tên
            </th>
            <th>
                Địa chỉ email
            </th>
            <th>
                Tên dăng nhập
            </th>
            <th>
                Mật khẩu
            </th>
            <th></th>
        </tr>

        @{ int i = 0; }
        @foreach (var item in Model)
        {
            i = i + 1;
            <tr>
                <td>
                    @i
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.Name)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.Email)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.UserName)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.PassWord)
                </td>
                <td>
                    @Html.ActionLink("Edit", "Edit", new { id = item.TeacherID }) |
                    @Html.ActionLink("Delete", "Delete", new { id = item.TeacherID })
                </td>
            </tr>
        }

    </table>
    <form action="/Teachers/ImportTeacher" method="post" enctype="multipart/form-data">
        Import danh sách giảng viên từ excel:<br>
        <input type="file" name="fileUpload">
        <br>

        <input type="submit" value="Import">
    </form>


    if (Model.PageCount > 1)
    {
        <div class="menu-trang">
            @Html.PagedListPager(Model, page => Url.Action("Index", new { page = page }))
        </div>
    }
}


